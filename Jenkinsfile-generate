#!groovy

node {
  stage 'Checkout'
  echo "Checking out branch ${env.BRANCH}"
  git branch: '${BRANCH}', url: 'git@github.com:michaelmccaskill/plugin-site-api'

  stage 'Generate Plugin Data'
  withEnv(["PATH+MAVEN=${tool 'M3'}/bin"]) {
    sh "mvn -P generatePluginData"
  }

}
